# **Product Requirements Document: Knowledge Agent Web GUI**

**Author:** Gemini
**Version:** 1.0
**Date:** August 26, 2025

## **1. Introduction**

The Knowledge Agent is a powerful, autonomous system for managing and curating a LightRAG knowledge base. Currently, its operation is managed entirely through the command line, and its outputs are stored in a PostgreSQL database and log files.

While functional for developers, this interface limits the project's accessibility and makes it difficult to monitor the agent's complex, multi-step workflows in real-time. A web-based Graphical User Interface (GUI) would make the system more intuitive, interactive, and accessible to a broader range of users, including those who are not comfortable with the command line.

## **2. Goals and Objectives**

* **Primary Goal:** To develop an intuitive web-based GUI that allows users to easily manage, monitor, and interact with the Knowledge Agent and its workflows.
* **Key Objectives:**
  * Create a central dashboard to provide an at-a-glance overview of the agent's status and recent activity.
  * Build an interface to initiate, monitor, and manage the various agent workflows (e.g., `maintenance`, `analyze`, `audit`).
  * Develop a user-friendly viewer for the reports generated by each sub-agent (Analyst, Researcher, etc.).
  * Implement a dedicated interface for handling tasks that require human-in-the-loop (HITL) approval.
  * Increase the accessibility of the Knowledge Agent for non-developer domain experts.

## **3. User Personas**

* **AI Developer/Researcher (Primary):** The primary user who builds and maintains the agent. They need a GUI for more efficient debugging, real-time monitoring of agent states, and managing complex workflows.
* **Domain Expert/Analyst (Secondary):** A less technical user (e.g., a biologist, IP analyst) who needs to review the agent's findings or approve its actions. They require a simple, intuitive interface that abstracts away the underlying technical complexity.

## **4. Features and Functionality**

### **4.1. Main Dashboard**

A central landing page that provides a high-level overview of the system.

* **Agent Status Indicator:** Shows whether the agent is currently `idle`, `running`, or has `encountered an error`.
* **Recent Activity Log:** A feed displaying the most recent high-level actions taken by the agent (e.g., "Started 'maintenance' workflow," "Analyst report saved," "Human approval required").
* **Key Metrics:** Cards displaying summary statistics, such as "Documents Processed," "Knowledge Gaps Identified," and "Reports Generated."

### **4.2. Workflow Management Page**

An interface for controlling the agent's operation.

* **Workflow Selection:** A dropdown or button group to select and initiate a specific workflow (e.g., `maintenance`, `analyze`, `research`, `audit`, `fix`, `advise`).
* **Live Status Tracker:** A visual representation (e.g., a timeline or a series of status badges) of the currently running workflow, highlighting which sub-agent is active (e.g., "ANALYST," "RESEARCHER," "CURATOR").
* **Control Buttons:** Buttons to `Start`, `Stop`, and `Pause` the agent's current task.

### **4.3. Report Viewer**

A dedicated section for browsing and inspecting the JSON reports stored in the database.

* **Report Navigation:** A sidebar or tabbed interface to select and view reports by agent type (Analyst, Researcher, Curator, Auditor, etc.).
* **Formatted Report Display:** The raw JSON from the database will be parsed and displayed in a clean, human-readable format, using nested sections and tables.
* **Download Option:** A button to download the raw JSON file for any given report.

### **4.4. Human-in-the-Loop (HITL) Interface**

A queue for tasks that require human intervention.

* **Approval Queue:** A list of pending actions, such as the plan proposed by the `Fixer` agent.
* **Clear Action Display:** Each item in the queue will clearly display the proposed plan or question.
* **Decision Buttons:** Simple "Approve" and "Deny" buttons to provide input back to the agent.

## **5. Design and UX Considerations**

* **Clarity and Simplicity:** The primary goal of the UI is to make the complex agent system understandable. The design should be clean, uncluttered, and use clear labels and visual cues.
* **Responsiveness:** The interface should be responsive and usable on a variety of screen sizes, primarily desktop.
* **Real-time Feedback:** The GUI should provide real-time updates on the agent's status to keep the user informed.

## **6. Technical Requirements**

* **Frontend Framework:** A modern JavaScript framework such as React, Vue, or Svelte.
* **Backend API:** A lightweight Python web framework (e.g., FastAPI, Flask) to serve as an intermediary between the frontend and the agent's backend.
* **API Endpoints:** The API will need endpoints to:
  * Get the agent's current status.
  * Start, stop, and pause workflows.
  * Fetch and list reports from the database.
  * Retrieve pending HITL tasks.
  * Submit HITL responses.
* **Communication:** The backend API will need to communicate with the LangGraph state to get real-time updates and with the PostgreSQL database to fetch data.

## **7. Future Enhancements**

* **Real-time Log Streaming:** A live feed of the detailed logs from the `logs/` directory.
* **Visual Workflow Editor:** A drag-and-drop interface for creating and modifying the agent workflows defined in `knowledge_agent.py`.
* **Detailed Analytics:** A page with charts and graphs visualizing the agent's performance over time.
* **Notification System:** Email or browser notifications for key events, such as when a workflow is complete or when human approval is required.

## **8. Success Metrics**

* **User Adoption:** The number of users who regularly use the GUI to manage the agent.
* **Task Efficiency:** A reduction in the time it takes for a user to initiate a task, review a report, or approve an action.
* **User Satisfaction:** Qualitative feedback from users on the ease of use and utility of the GUI.
